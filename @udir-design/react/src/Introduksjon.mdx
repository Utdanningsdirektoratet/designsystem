import { Alert } from './components/alert/Alert';
import { List } from './components/list/List';

# Designsystem for Utdanningsdirektoratet

Udirs designsystem skal bidra til å skape og opprettholde helhetlig design slik at Udir har:

- tydelig identitet
- brukervennlige løsninger
- effektiv utvikling

Udirs designsystem tar utgangspunkt i [Digdirs felles designsystem](https://www.designsystemet.no/). Designsystemet skal brukes for å oppnå helhetlig design i Udirs digitale tjenester og i andre kommunikasjonsflater i tråd med Udirs [designprofil](https://www.udir.no/om-udir/designprofil/).

## Om denne dokumentasjonen

Bruk venstremenyen for å navigere i dokumentasjonen.

Overskriften "Demo" inneholder eksempler som viser komponenter brukt sammen. Alle individuelle komponenter finner du under "Components".

Komponenter er markert med "Alpha" eller "Beta" dersom de ikke er stabile (les mer om livsfaser lenger ned). Bruk av disse skjer på eget ansvar.

<Alert data-color="warning">
  <div>
    <strong>Advarsel</strong>
  </div>
  I **alpha**- og **beta**-fasene vil følgende gjelde:
  <List.Unordered>
    <List.Item>
      endringer som bryter bakoverkompatibilitet kan skje når som helst, uten at
      MAJOR-versjonsnummeret endres
    </List.Item>
    <List.Item>
      komponentene må importeres fra henholdsvis `@udir-design/react/alpha`
      eller `@udir-design/react/beta`
    </List.Item>
  </List.Unordered>
</Alert>

## Livsfaser for en komponent

Komponenter i designsystemet kan befinne seg i én av tre ulike livsfaser:

<dl>
  <dt>
    <strong>Alpha</strong>
  </dt>
  <dd>
    Komponenten er implementert, men dokumentasjon er mangelfull. Den er ikke
    nødvendigvis testet i en større kontekst, og det er sannsynlig at utseende,
    oppførsel og/eller API vil endre seg.
  </dd>
  <dt>
    <strong>Beta</strong>
  </dt>
  <dd>
    Komponenten har gjennomgått en initiell prosess i designteamet, der visuelle
    valg har blitt tatt. Den har fått bruksdokumentasjon i Storybook og Figma,
    og er en del av en demoside der den kan testes i en større kontekst. Det
    finnes automatiserte testing av komponenten der det gir mening. Endringer er
    fremdeles mulig basert på tilbakemeldinger fra systemteam, vurderinger i
    designteamet og manuell testing.
  </dd>
  <dt>
    <strong>Stabil</strong>
  </dt>
  <dd>
    Komponenten er vurdert til å tilfredsstille systemteamenes behov.
    Designteamet har gjort denne vurderingen basert på kjennskap til Udirs
    tjenester og tilbakemeldinger fra systemteamene i alpha- og betafasene.
    Stabile komponenter har gjennomgått akseptansetest i designteamet. Vi prøver
    å unngå endringer i stabile komponenter med mindre det ligger gode grunner
    bak.
  </dd>
</dl>

### Overgang fra beta til stabil

Vi legger ut melding på Slack-kanalen #designsystem-udir når vi mener en komponent kan gå fra beta til stabil. Hvis vi ikke får noen innsigelser på dette, setter vi komponenten til stabil etter cirka en uke.

## Hva tester vi?

I designsystemet opererer vi med flere nivåer av automatisert testing for alle komponenter. For å skape
trygghet rundt versjonsoppdateringer for systemteamene, har vi ikke mulighet til å publisere kode som
bryter noen av disse testene.

<Alert data-color="info">
  <div>
    <strong>Til info</strong>
  </div>
  <p>Alle våre automatiserte tester kjører i Chromium.</p>
</Alert>

### Individuelle komponenter

**Komponenttester** brukes for å teste hvordan individuelle komponenter rendrer ut i nettleseren i ulike tilstander og etter ulike brukerinteraksjoner.

I tillegg vil det finnes **enhetstester** i de tilfellene det gir mening for å teste logikk i komponenter som vi utvikler selv.

### Komponenter i kontekst

Hver komponent skal også testes i bruk i en større kontekst av andre komponenter. Dette kaller vi **komposisjonstester**. Her vil vi også teste interaksjoner på tvers av komponenter.

### Felles for begge

Både komponenttester og komposisjonstester er basert på _stories_ i Storybook. I tillegg til det som er beskrevet over, får hver story også automatisk en snapshottest, en visuell test, og en tilgjengelighetstest.

**Snapshottester** brukes for å beskytte mot uventede endringer i HTML-markupen som blir generert fra hver enkelt komponent, mens **visuelle tester** beskytter mot uventede visuelle endringer i komponentene. Endringer i markup og utseende vil måtte godkjennes av en utvikler eller designer i designteamet.

**Tilgjengelighetstester** bruker [Axe](https://github.com/dequelabs/axe-core) for å teste universell utforming. Det er viktig å merke seg at disse ikke kan fange opp alle tilgjengelighetsproblemer — Axe sier selv at de i snitt finner 57% av alle WCAG-brudd. Reglene som brukes [er beskrevet i Axe sin dokumentasjon](https://github.com/dequelabs/axe-core/blob/master/doc/rule-descriptions.md).

<Alert data-color="warning">
  <div>
    <strong>Advarsel</strong>
  </div>
  <p>
    Vi kan kun gå god for tilgjengeligheten på komponenter som brukes riktig.
    Fordi våre komponenter må være fleksible nok til å støtte bruk i ulike
    systemer, vil det kreves kjennskap til WCAG-krav, aria-attributter og andre
    utviklingsprinsipper i systemteamene for å sørge for god universell
    utforming.
  </p>
  <p>
    Vi anbefaler derfor alle systemteam å ha egne automatiserte og manuelle
    tilgjengelighetstester.
  </p>
</Alert>

### Tester for komponenter i ulike livsfaser

For en **alpha**-komponent vil følgende gjelde:

- Det finnes minst én story for den individuelle komponenten

For en **beta**-komponent vil følgende gjelde:

- Det finnes stories for den individuelle komponenten i relevante tilstander og interaksjoner
- Komponenten er testet i minst én komposisjonstest

En **stabil** komponent skal ha alle testene beskrevet i forrige seksjon, og vil i tillegg ha gjennomgått
manuell tilgjengelighetstesting i designteamet. Den manuelle testprosedyren skal så ha blitt automatisert som
interaksjoner i komponent- og komposisjonstestene for å sikre oss mot regresjoner.
