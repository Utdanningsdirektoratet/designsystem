import { Meta, Canvas, Controls, Primary } from '@storybook/addon-docs/blocks';
import * as FieldNecessityStories from './FieldNecessity.stories';
import { Field } from '@digdir/designsystemet-react';

<Meta of={FieldNecessityStories} />

# FieldNecessity

`FieldNecessity` brukes sammen med input-felter for å automatisk markere skjemafelter som obligatoriske eller valgfrie. Les mer om hvilke felter som må merkes i [bruksmønster for obligatoriske felter](/docs/patterns-obligatoriske-felt--docs).

**Passer til å**

- markere skjemafelter som obligatoriske eller valgfrie

## Slik bruker du FieldNecessity

<Primary />
<Controls />

```tsx
import { FieldNecessity } from '@udir-design/react';

<FieldNecessity>
  <Textfield label="Fornavn" required />
  <Textfield label="Etternavn" required />
</FieldNecessity>;
```

Komponenten bruker attributtene `required` eller `aria-required` på `input` inni komponenten for å bestemme hvilke `Tag`s som skal vises.

## Eksempler

### Oppsummering

Med bakgrunn i bruksmønsteret for obligatoriske felter er standard at markeringen vises som en oppsummering øverst på skjemasiden. Dette forutsetter at alle skjemafelter enten er obligatorske eller valgfrie.

<Canvas of={FieldNecessityStories.AllRequired} />
<Canvas of={FieldNecessityStories.AllOptional} />

Dersom du ikke ønsker å ha oppsumeringen helt øverst, kan du plassere `<FieldNecessity.Summary />` der du ønsker at `Tag`en skal vises. F.eks. dersom du har en felles beskrivelse av skjemafeltene slik som i eksempelet under.

<Canvas of={FieldNecessityStories.ManualSummaryPlacement} />

### Kombinasjon av obligatoriske og valgfrie felter

Dersom kun noen av feltene på en skjemaside er obligatoriske, settes `showSummary` til `false`.

### Checkboxer

Dersom det er obligatorisk å huke av på minst én `Checkbox`, men ikke obligatorisk å huke av på enkeltbokser løses dette ved å sette `required` på alle `Checkbox`er.

<Canvas of={FieldNecessityStories.FieldsetCheckboxes} />

I noen tilfeller, slik som i eksempelet under, vil kun enkelte `Checkbox`er være obligatoriske å huke av. Da setter du `required` på de individuelle `Checkbox`ene det gjelder.

<Canvas of={FieldNecessityStories.IndividualCheckboxes} />

### Outline

På noen bakgrunner skiller `Tag` seg ikke like godt ut. I disse tilfellene kan du bruke `vairant="outline"`.

<Canvas of={FieldNecessityStories.Outline} />
