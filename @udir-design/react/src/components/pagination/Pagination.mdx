import {
  Meta,
  Controls,
  Primary,
  Canvas,
  ArgTypes,
} from '@storybook/addon-docs/blocks';
import * as usePagination from '../../utilities/hooks/usePagination/usePagination.stories';
import * as PaginationStories from './Pagination.stories';

<Meta of={PaginationStories} />

# Pagination

`Pagination` er en liste med knapper som brukes for å navigere mellom ulike sider med innhold, for eksempel søkeresultater eller tabeller.

**Passer til å**

- navigere mellom relaterte sider
- dele inn store mengder innhold i flere sider – for eksempel i tabeller

**Passer ikke til å**

- dele inn et skjema i steg
- vise fremdrift

## Slik bruker du Pagination

<Primary />
<Controls of={PaginationStories.Preview} />

Komponentens tilstand om hvilken side som er aktiv styres programmatisk ved hjelp av `usePagination`.
[Les mer om `usePagination`](/docs/utilities-usepagination--docs).

```tsx
import { Pagination } from '@udir-design/react';

const onChange = (event, page: number) => console.log(`Going to page ${page}`);
const [currentPage, setCurrentPage] = useState(4);
const { pages, prevButtonProps, nextButtonProps, hasNext, hasPrevious } =
  usePagination({
    currentPage,
    setCurrentPage,
    onChange,
    totalPages: 10,
    showPages: 7,
  });

<Pagination>
  <Pagination.List>
    <Pagination.Item>
      <Pagination.Button aria-label="Forrige side" {...prevButtonProps}>
        Forrige
      </Pagination.Button>
    </Pagination.Item>
    {pages.map(({ page, itemKey, buttonProps }) => (
      <Pagination.Item key={itemKey}>
        {typeof page === 'number' && (
          <Pagination.Button {...buttonProps} aria-label={`Side ${page}`}>
            {page}
          </Pagination.Button>
        )}
      </Pagination.Item>
    ))}
    <Pagination.Item>
      <Pagination.Button aria-label="Neste side" {...nextButtonProps}>
        Neste
      </Pagination.Button>
    </Pagination.Item>
  </Pagination.List>
</Pagination>;
```

## Eksempler

### Som lenker

Vær oppmerksom på at knappene som standard er `<button>`-elementer. Hvis `Pagination` skal navigere til en ny URL, må knappene være lenker `<a>`.

Alle del-komponenter støtter `asChild` som kan brukes til å endre `Pagination.Button` til lenker `<a>`.

<Canvas of={PaginationStories.WithAnchor} />

### Responsiv visning

På små skjermer er det lurt å begrense antall synlige sidetall for å spare plass. Vis kun:

- den aktive siden
- én side før og etter

<Canvas of={PaginationStories.Mobile} />

## Retningslinjer

Bruk `Pagination` når innholdet er for stort for én side, for eksempel ved søkeresultater eller lange lister, og brukeren trenger å navigere frem og tilbake. Vi deler kun opp innhold i flere sider når det forbedrer lastetiden eller brukervennligheten.

Vi bruker et fast tekstmønster for `Pagination` med ord: «Forrige» og «Neste».

Unngå derfor «Forrige side», «Neste side», «Gå tilbake», «Gå videre», «Videre» og «Tilbake».
