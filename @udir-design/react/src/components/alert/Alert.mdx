import { Meta, Canvas, Controls, Primary } from '@storybook/blocks';
import * as AlertStories from './Alert.stories';

<Meta of={AlertStories} />

# Alert

Vi bruker `Alert` til å gi brukeren informasjon som det er ekstra viktig at de ser og forstår. Alert er designet for å fange brukernes oppmerksomhet. Teksten i varselet skal være kort og tydelig.

**Passer til å**

- gi korte og informative varsler

**Passer ikke til å**

- validere enkelte skjemaelement, bruk heller komponentens egen feilmelding
- varsle om en feil som hindrer all videre bruk av tjenesten (bruk en feilside i stedet)

## Slik bruker du Alert

<Primary />
<Controls />

```tsx
import { Alert } from '@udir-design/react';

<Alert>En beskjed det er viktig at brukeren ser</Alert>;
```

## Eksempler

`Alert` kan brukes til fire ulike budskap: Informasjon, advarsler, suksess og feilmelding. Den kan også brukes sammen med andre komponenter og stiler. Her er noen eksempler.

### Informasjon

Bruk `info` til informasjon som er nyttig for brukerne, men ikke avgjørende for at de skal forstå oppgaven.

<Canvas of={AlertStories.VariantInfo} />

### Suksess

Bruk `success` når du vil bekrefte at brukeren har fullført en oppgave.

<Canvas of={AlertStories.VariantSuccess} />

### Advarsel

Bruk `warning` når du vil at brukeren skal foreta en bestemt handling eller for å advare dem om noe viktig.

<Canvas of={AlertStories.VariantWarning} />

### Feilmelding

Bruk `danger` for å informere om noe som er kritisk eller som hindrer brukeren i å komme videre.

<Canvas of={AlertStories.VariantDanger} />

### Med og uten overskrift

Hvis meldingen er lenger enn en setning kan det være nyttig å bruke en overskrift til å fremheve det viktigste. Dette kan gjøres ved bruk av [Typografi](/docs/components-typography--docs)-komponentene. Husk å velge riktig overskriftsnivå ut fra plassen alert har i innholdsstrukturen på siden.

Dersom tittel og beskrivelse gjentar det samme er det bedre å bruke en enkel setning uten overskrift.

<Canvas of={AlertStories.MedKunHeading} />

### Med lenke

Du kan ha en lenke i Alert hvis det hjelper brukeren med å løse oppgaven. Men vær obs på at en lenke tar brukeren ut av tjenesten, så bruk lenke kun når det er absolutt nødvendig, for eksempel hvis du vil at brukeren skal åpne et skjema eller utføre en viktig oppgave.

<Canvas of={AlertStories.MedLenke} />

## Retningslinjer

Bruk `Alert` sparsomt. Brukere kan forveksle varsler med reklame, og dermed overse dem. Hvis vi bruker varsler for ofte, kan vi forverre dette problemet.

`Alert` skal ha samme utseende og formspråk i alle tjenester og produkter. Den skal være mulig å kjenne igjen over alt, så vi skal ikke justere den. De fire ulike fargene som brukes i komponenten skiller seg ut fra Udir-paletten slik at de fanger oppmerksomheten til brukeren.

### Størrelser

Når du setter `size`, endrer vi ikke størrelsen på tekst som ligger i tekstkomponenter. Fritekst som blir sendt inn vil endre størrelse i henhold til `size`-propen.

Dersom du sender inn tekst ved bruk av komponenter kan du følge tabellen under for anbefalt størrelser:

| Alert Størrelse | Heading størrelse | Paragraph størrelse |
| --------------- | ----------------- | ------------------- |
| sm              | 2xs               | sm                  |
| md              | xs                | md                  |
| lg              | sm                | lg                  |

## Tekst i Alert

Når vi skriver tekst i `Alert`-komponenten, er det viktig at den er lett å forstå. Her er noen retningslinjer for hvordan vi kan skrive gode varsler:

- Legg til en overskrift hvis teksten er lengre enn én setning.
- Tenk på teksten som en samtale med brukeren, bruk ord som «vi» og «du» for å tydeliggjøre hvem som gjør hva.
- Gjenta nøkkelord fra ledeteksten dersom varselet er knyttet til en handling.
- Forklar tydelig hva brukeren må eller kan gjøre for å komme videre.

<br />

**Teksten i `Alert` er som regel basert på en av følgende scenarioer:**

Fortell hva som har skjedd:

> "Kunne ikke koble til konto."

Fortell hvorfor det skjedde:

> "Vi kunne ikke koble til kontoen din på grunn av tekniske problemer fra vår side."

Forsikre brukeren:

> "Endringene dine har blitt lagret."

Gi dem en vei ut av problemet:

> "Hvis dette problemet oppstår igjen, kontakt Kundeservice."

Hjelp dem å fikse problemet selv:

> "Vennligst prøv igjen."

## Tilgjengelighet

### Alternativtekst

Ikonene er ikke bare dekorative. De har en standard alternativtekst som kommuniserer alvorlighetsgrad: "Informasjon", "Suksess", "Advarsel" og "Feil". Denne blir lest opp som en del av innholdet for skjermleserbrukere.

### Bruk av `role="alert"`

Alert-komponenten kommer ikke med en `role="alert"` som default, den blir presentert for skjermleserbrukere som vanlig statisk innhold. Du kan legge på `role="alert"` selv, men vær oppmerksom på forventet oppførsel dette medfører. Du kan lese mer om dette på [dokumentasjonen til ARIA](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/alert_role).

Ikke bruk `role="alert"` om `Alert` er synlig når siden lastes inn.

<Canvas of={AlertStories.UtenAria} />

Bruk `role="alert"` hvis den dukker opp dynamisk underveis pga. brukerinput eller andre faktorer som kan utløse en alert.

<Canvas of={AlertStories.MedAria} />
