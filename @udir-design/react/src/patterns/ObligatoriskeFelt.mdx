import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="patterns/Obligatoriske felt" tags={['alpha']} />

# Obligatoriske og valgfrie skjemafelt

Det er flere måter å markere obligatoriske skjemafelt som oppfyller kravene til merking. Klarer vi å gjøre dette mer likt på tvers blir det lettere for brukerne å forstå og kjenne igjen mønsteret på tvers av løsningene våre.

Udir følger [bruksmønsteret for obligatoriske skjemafelt i Digdirs designsystem](https://designsystemet.no/no/patterns/required-and-optional-fields) med noen endringer.

## Implementasjon av mønsteret

Vi har laget [komponenten `FieldNecessity`](/docs/components-fieldnecessity--docs), som automatisk implementerer dette mønsteret. Ved å legge `FieldNecessity` rundt skjemafeltene, og markere de påkrevde feltene med `required`, vil markeringen bli håndtert i henhold til mønsteret.

## Endringer hos Udir

Mønsteret skal følges slik det står i Digdirs designsystem, med unntak av følgende endringer.

### Kombinasjon av obligatoriske og valgfrie felt

Når obligatoriske og valgfrie felt finnes på samme side anbefaler vi å **ikke** markere valgfrie felt, men **kun obligatoriske felt**. Dersom alle felt på en side er obligatoriske, markerer vi dette i toppen av skjemaet som vist i mønsteret hos Digdir.

#### Bakgrunn for endringen

Slik det fremkommer i Digdirs designsystem bør man, ved tilfeller der man har både valgfrie og obligatoriske felt på samme side, markere absolutt alle feltene. Vi mener dette vil gjøre at både valgfrie og obligatoriske felt får like mye oppmerksomhet, og dermed mister merkingen av obligatoriske felt en del av effekten.

Anbefalingen i Digdirs designsystem er strengere enn [uutilsynet sin tolkning av WCAG-kravet 3.3.2 "Ledetekster eller instruksjoner"](https://www.uutilsynet.no/wcag-standarden/332-ledetekster-eller-instruksjoner-niva/117#tilsynets_tolking) (se boks "Krav til samsvar"), som bare sier at obligatoriske felt må markeres dersom det er en kombinasjon av valgfrie og obligatoriske.

Legg merke til at uutilsynets krav om ledetekst eller instruksjon "når innholdet krever inndata fra brukeren" kombinert med kravet "ledetekst eller instruksjon er plassert i eller rett ved inndataelement" betyr at det **ikke** er tilstrekkelig å skrive f.eks. "Alle felt må fylles ut med mindre de er markert med _Valgfri_".

Vi har en pågående dialog med Digdir for å se om mønsteret i deres designsystem skal justeres.
